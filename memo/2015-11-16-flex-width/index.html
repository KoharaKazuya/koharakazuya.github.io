<!doctype html>

<meta charset="utf-8">
<link rel="stylesheet" href="/styles/main.css">
<link rel="stylesheet" href="/styles/header.css">
<link rel="stylesheet" href="/styles/footer.css">
<link rel="stylesheet" href="/styles/preview-line.css">
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
<link rel="alternate" type="application/rss+xml" href="/index.xml" />
<title>Kohara&#39;s Page</title>


<header>
  <div class="head-bar">
    <div class="title-background">
      <a href="/"><h1>Kohara&#39;s Page</h1></a>
    </div>
  </div>
</header>


<article class="page">
  <header>
    <h1>
      潰れた Flex の不思議な挙動
      <span class="date">2015/11/16</span>
    </h1>
  </header>
  <main>
    <pre><code class="language-html">&lt;div style=&quot;display: flex;&quot;&gt;
  &lt;input style=&quot;flex: 1;&quot;&gt;
  &lt;div style=&quot;flex: 0 1 600px; background-color: green;&quot;&gt;&lt;/div&gt;
&lt;/div&gt;
</code></pre>

<p>上記のコードでは、右の緑の領域が基本 600 px あって、左の入力欄は残りの部分で
伸縮する、また、（ブラウザサイズなどの）全体の幅が小さくなるに連れ、
入力欄が小さくなり、幅が 0 になると右の緑の領域の幅が小さくなっていく。
という意図で書いた。</p>

<p>実際は以下。
PC でブラウザのウィンドウサイズを色々変えてみて試してほしい。</p>

<div style="display: flex;">
  <input style="flex: 1;">
  <div style="flex: 0 1 600px; background-color: green;"></div>
</div>

<p>Safari, FireFox では意図の通りの挙動をしたが、
Google Chrome 46 では <strong>入力欄の幅が 0 になる付近で固定幅になる</strong> という謎の
挙動を示した。ホント謎。
div はならず、input だけだったのでバグっぽい感じはあるんだけど、どうなんだろう。</p>

<p>（この記事は仕事中に苦しんだバグを再現しようと思って書き始められましたが、
再現ができずに別のバグっぽいものを見つけたため、そちらが記されました）</p>

  </main>
</article>

<footer>
  <p><small>© 2015 Kohara Kazuya. All Rights Reserved.</small></p>
</footer>

